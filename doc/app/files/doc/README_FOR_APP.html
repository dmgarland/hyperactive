<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: README_FOR_APP</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>README_FOR_APP</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>doc/README_FOR_APP
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Sun Jun 17 20:06:46 +0100 2007</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
The app uses <a href="../../classes/ActiveRecord.html">ActiveRecord</a> to
keep track of sessions.
</p>
<h2>Installation on Debian / Ubuntu ==</h2>
<p>
Install docs, for a stock Debian(ish) box. If you are running some other
kind of Linux, the package names may be different but the basic process is
the same.
</p>
<p>
Step 1: Install a Ruby interpreter
</p>
<p>
yossarian@pulp:~$ sudo apt-get install ruby rdoc1.8 ri1.8 irb1.8 irb
ruby1.8-dev The following extra packages will be installed:
</p>
<pre>
  irb1.8 libreadline-ruby1.8 libruby1.8 ruby1.8
</pre>
<p>
Step 2: Install build tools. Ruby runs its own packages, called gems, which
sometimes need to be compiled as they&#8216;re written in C.
</p>
<p>
yossarian@pulp:~$ sudo apt-get install build-essential
</p>
<p>
Step 3: Install the gem package manager
</p>
<p>
a) Download the tarball: yossarian@pulp:~$ wget <a
href="http://rubyforge.org/frs/download.php/17190/rubygems-0.9.2.tgz">rubyforge.org/frs/download.php/17190/rubygems-0.9.2.tgz</a>
</p>
<p>
b) Extract it: yossarian@pulp:~$ tar -xvzf rubygems-0.9.2.tgz
</p>
<p>
c) Install it: yossarian@pulp:~$ cd rubygems-0.9.2
yossarian@pulp:~/rubygems-0.9.2$ sudo ruby setup.rb
yossarian@pulp:~/rubygems-0.9.2$ cd
</p>
<p>
Note: rubygems is a package manager for ruby code, and works sort of like
apt-get. When installing gems in any of the steps below, if you are asked
which version of a gem you&#8216;d like to install, just pick the one with
the highest version number. Also, accept any gem dependencies that the
package manager asks you about.
</p>
<p>
Step 4: Install Rails yossarian@pulp:~$ sudo gem install rails
&#8212;include-dependencies
</p>
<p>
Step 5: Install a Ruby database adapter for your chosen database:
</p>
<p>
a) for postgresql: yossarian@pulp:~$ sudo apt-get install libpgsql-ruby
</p>
<p>
OR
</p>
<p>
b) for mysql: yossarian@pulp:~$ sudo apt-get install libmysql-ruby
yossarian@pulp:~$ sudo apt-get install libmysqlclient15
libmysqlclient15-dev
</p>
<p>
Note: the version numbers for libmysqlclient15 may be different, do an
yossarian@pulp:~$ apt-cache search libmysqlclient to figure out the package
name if necessary
</p>
<p>
Step 6: Install the gem for your chosen database so that rails can talk to
it
</p>
<p>
For Postgresql: yossarian@pulp:~$ sudo gem install postgres-pr
</p>
<p>
For MySql: yossarian@pulp:~$ sudo gem install mysql
</p>
<p>
Step 7: Install gems used by the calendar
</p>
<p>
a) &quot;ferret&quot; and &quot;acts_as_ferret&quot; provide full-text
search indexing, similar to Apache Lucene: yossarian@pulp:~$ sudo gem
install ferret yossarian@pulp:~$ sudo gem install acts_as_ferret
</p>
<p>
b) &quot;ruby-debug&quot; allows interactive debugging of Rails
applications, which is pretty handy for development: yossarian@pulp:~$ sudo
gem install ruby-debug
</p>
<p>
c) &quot;rmagick&quot; acts as an interface to the imagemagick library,
which can be used to resize uploaded images: yossarian@pulp:~$ sudo apt-get
install imagemagick yossarian@pulp:~$ sudo apt-get install librmagick-ruby
yossarian@pulp:~$ sudo apt-get install libmagick6-dev yossarian@pulp:~$
sudo gem install rmagick
</p>
<p>
Note: the above package names are for Debian 3.1 (Sarge). On newer Debians
or Ubuntu the libmagickX-dev version number is likely to be higher, so you
may need to install a different package. To find out what you need, type:
yossarian@pulp:~$ apt-cache search libmagick and pick the proper package,
e.g. libmagick9-dev
</p>
<p>
d) The backgroundrb plugin in the calendar code allows us to fork off
long-running processes, so it&#8216;s good for stuff like Flash video
encoding using ffmpeg. We need these gems to support backgroundrb, and we
might as well install ffmpeg here too: yossarian@pulp:~$ sudo gem install
daemons slave yossarian@pulp:~$ sudo apt-get install ffmpeg
</p>
<p>
Step 8: Install subversion, the version control system: yossarian@pulp:~$
sudo apt-get install subversion
</p>
<p>
Step 9: Check out the calendar code from the subversion repository
yossarian@pulp:~$ svn co
svn+ssh://yourusername@escapegoat.org/var/svn/imcalendar . Note,
don&#8216;t forget the dot in the line above. Also, because of the way
subversion works you may be asked to enter your password more than once.
</p>
<p>
Step 10: Set up your databases # Create calendar user (this will ask for a
new password) yossarian@pulp:~$ sudo -u postgres createuser -P
calendar_user
</p>
<p>
# Create calendar db owned by that user yossarian@pulp:~$ sudo -u postgres
createdb -O calendar_user imcalendar_development yossarian@pulp:~$ sudo -u
postgres createdb -O calendar_user imcalendar_test
</p>
<p>
Note: we&#8216;ve created two databases here. Rails is big on unit and
functional testing, so the &quot;_test&quot; database is used for testing
purposes.
</p>
<p>
Step 11: Create the initial database schema for the development database,
and clone the structure into the test database yossarian@pulp:~$ cd
imcalendar yossarian@pulp:~/imcalendar$ rake db:migrate
</p>
<p>
Note: on Debian Sarge, this fails because the &quot;ruby-debug&quot; gem
doesn&#8216;t work with Ruby 1.8.2. To fix this, comment out the
requirements for ruby-debug in environment.rb, like this:
yossarian@pulp:~/imcalendar$ nano config/environment.rb
</p>
<p>
Put hashes in front of the ruby-debug lines to comment them out, like this:
require &#8216;ruby-debug&#8217; Debugger.start
</p>
<p>
Then save the file using ctrl-x, and hit enter key twice.
</p>
<p>
Step 12: Set up the mongrel webserver and start the site: yossarian@pulp:~$
sudo gem install mongrel yossarian@pulp:~$ cd imcalendar yossarian@pulp:~$
script/server
</p>
<p>
This should get the server up and running. You can hit the site now by
going to <a href="http://yoursite.org:3000">yoursite.org:3000</a>. If
you&#8216;ve got it running on your local machine, you can go to <a
href="http://localhost:3000">localhost:3000</a>
</p>
<p>
A default admin user and password are set up. You can log into the site by
going to:
</p>
<p>
<a href="http://yoursite.org:3000/login">yoursite.org:3000/login</a>
</p>
<p>
user: admin password: password
</p>
<p>
Enjoy!
</p>

    </div>


   </div>


  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>